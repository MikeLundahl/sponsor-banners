(()=>{var t={n:n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},d:(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};(()=>{"use strict";t.r(n);const e=flarum.core.compat["common/app"];t.n(e)().initializers.add("mbl/sponsor-banners",(function(){console.log("[mbl/sponsor-banners] Hello, forum and admin!")}));const r=flarum.core.compat["forum/app"];var a=t.n(r);const o=flarum.core.compat["common/extend"];function s(t,n){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},s(t,n)}function i(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n)}const l=flarum.core.compat["common/Component"];var b=t.n(l);const u=flarum.core.compat["common/components/Link"];var c=t.n(u),p=function(t){function n(){return t.apply(this,arguments)||this}i(n,t);var e=n.prototype;return e.oninit=function(n){t.prototype.oninit.call(this,n),this.adImage="/assets/"+a().forum.attribute("mbl-sponsor-banners.image-side"),this.bannerLink=n.attrs.bannerLink,this.bannerTag=n.attrs.bannerPlausibleTag,this.titleText=n.attrs.titleText},e.oncreate=function(n){t.prototype.oncreate.call(this,n),n.dom.querySelector(".BannerSide").style.backgroundImage="url("+this.adImage+")"},e.onupdate=function(n){t.prototype.onupdate.call(this,n)},e.view=function(){return m("div",{className:"BannerSide-container"},m("h4",{className:"BannerSide-title"},this.titleText),m(c(),{href:this.bannerLink,target:"_blank",className:this.bannerTag},m("div",{className:"BannerSide"})))},n}(b()),d=function(t){function n(){return t.apply(this,arguments)||this}i(n,t);var e=n.prototype;return e.oninit=function(n){t.prototype.oninit.call(this,n),this.adImage="/assets/"+a().forum.attribute("mbl-sponsor-banners.image-mobile"),this.bannerLink=n.attrs.bannerLink,this.bannerTag=n.attrs.bannerPlausibleTag,this.titleText=n.attrs.titleText},e.oncreate=function(n){t.prototype.oncreate.call(this,n),n.dom.querySelector(".BannerMobile").style.backgroundImage="url("+this.adImage+")"},e.onupdate=function(n){t.prototype.onupdate.call(this,n)},e.view=function(){return m("div",{className:"BannerMobile-container"},m("h4",{className:"BannerSide-title"},this.titleText),m(c(),{href:this.bannerLink,target:"_blank",className:this.bannerTag},m("div",{className:"BannerMobile"})))},n}(b());const f=flarum.core.compat["forum/components/IndexPage"];var g=t.n(f);const y=flarum.core.compat["forum/components/DiscussionPage"];var h=t.n(y);function T(){var t,n,e,r,o;return t=new Date(a().forum.attribute("mbl-sponsor-banners.start-date")),n=new Date(a().forum.attribute("mbl-sponsor-banners.end-date")),e=new Date,r=e.getTime()>=t.getTime(),o=e.getTime()<=n.getTime(),r&&o}a().initializers.add("mbl/sponsor-banners",(function(){(0,o.extend)(g().prototype,"sidebarItems",(function(t){var n=T(),e=a().forum.attribute("mbl-sponsor-banners.banners-link"),r=a().forum.attribute("mbl-sponsor-banners.banner-landing-tag"),o=a().forum.attribute("mbl-sponsor-banners.banner-mobile-tag"),s=a().forum.attribute("mbl-sponsor-banners.title-text"),i=parseInt(a().forum.attribute("mbl-sponsor-banners.side-is-displaying")),l=parseInt(a().forum.attribute("mbl-sponsor-banners.mobile-is-displaying"));n&&(i&&t.add("mbl-sponsor-banner-side",m(p,{bannerPlausibleTag:r,bannerLink:e,titleText:s})),l&&t.add("mbl-sponsor-banner-mobile",m(d,{bannerPlausibleTag:o,bannerLink:e,titleText:s})))})),(0,o.extend)(h().prototype,"sidebarItems",(function(t){var n=T(),e=a().forum.attribute("mbl-sponsor-banners.banners-link"),r=a().forum.attribute("mbl-sponsor-banners.banner-discussion-tag"),o=parseInt(a().forum.attribute("mbl-sponsor-banners.discussion-is-displaying")),s=a().forum.attribute("mbl-sponsor-banners.title-text");n&&o&&t.add("mbl-sponsor-banner-discussion",m(p,{bannerPlausibleTag:r,bannerLink:e,titleText:s}),-100)}))}))})(),module.exports=n})();
//# sourceMappingURL=forum.js.map